socket thread pool is based on:
https://github.com/jech/threadpool/
